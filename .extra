#!/usr/local/bin/bash
[[ "$DEBUG_STARTUP:" == "1:" ]] && echo "RUNNING $HOME/.extra"

# Tricks to minimize startup time for infrequently used functions
_rvm_first() {
  [[ -s "$HOME/.rvm/scripts/rvm" ]] && source "$HOME/.rvm/scripts/rvm" 
  # eval "$(echo '_old_rvm()'; typeset -f rvm | tail -n212)"
  rvm use ruby-3.0.0 >/dev/null
  rvm $@
}

rvm() {
  unset rvm
  _rvm_first "$@"
}

_nvm_first() {
  unalias nvm
  [ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"  # This loads nvm
  nvm "$@"
}
alias nvm=_nvm_first


source_and_log "$HOME/.iterm2_shell_integration.bash"
[ -e $HOME/.iterm2/it2api ] && export PATH="$PATH:$HOME/.iterm2"
source_and_log "$HOME/.ghcup/env" # ghcup-env

dedupe_pathvar

# vim: set ft=sh
